(()=>{"use strict";var e={838:(e,i,t)=>{t.r(i),t.d(i,{extension:()=>a});const a={getURL:e=>chrome.runtime.getURL(e),getManifest:()=>chrome.runtime.getManifest(),getId:()=>chrome.runtime.id,storage:{getItem:e=>new Promise((i=>{chrome.storage.local.get(e,(t=>{i(t[e]||null)}))})),setItem:(e,i)=>new Promise((t=>{chrome.storage.local.set({[e]:i},(()=>{t()}))})),removeItem:e=>new Promise((i=>{chrome.storage.local.remove(e,(()=>{i()}))}))},proxy:{set:(e,i)=>new Promise((t=>{chrome.proxy.settings.set({value:e,scope:i},(e=>{t(e)}))})),remove:()=>new Promise((e=>{chrome.proxy.settings.clear({scope:"regular"},e)})),get:()=>new Promise((e=>{chrome.proxy.settings.get({incognito:!1},(i=>{e(i)}))}))}}}},i={};function t(a){var o=i[a];if(void 0!==o)return o.exports;var r=i[a]={exports:{}};return e[a](r,r.exports,t),r.exports}t.d=(e,i)=>{for(var a in i)t.o(i,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:i[a]})},t.o=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a,o="user-agent",r="",s="function",n="undefined",c="object",d="string",u="browser",l="cpu",w="device",m="engine",b="os",p="result",h="name",g="type",f="vendor",v="version",y="architecture",x="major",_="model",k="console",I="mobile",S="tablet",C="smarttv",R="wearable",T="xr",q="embedded",O="inapp",P="brands",N="formFactors",j="fullVersionList",U="platform",A="platformVersion",M="bitness",H="sec-ch-ua",z=H+"-full-version-list",B=H+"-arch",L=H+"-"+M,E=H+"-form-factors",D=H+"-"+I,V=H+"-"+_,F=H+"-"+U,$=F+"-version",W=[P,j,I,_,U,A,y,N,M],J="Amazon",G="Apple",X="ASUS",K="BlackBerry",Y="Google",Q="Huawei",Z="Lenovo",ee="Honor",ie="LG",te="Microsoft",ae="Motorola",oe="Nvidia",re="OnePlus",se="OPPO",ne="Samsung",ce="Sharp",de="Sony",ue="Xiaomi",le="Zebra",we="Chrome",me="Chromium",be="Chromecast",pe="Firefox",he="Opera",ge="Facebook",fe="Sogou",ve="Mobile ",ye=" Browser",xe="Windows",_e=typeof window!==n&&window.navigator?window.navigator:void 0,ke=_e&&_e.userAgentData?_e.userAgentData:void 0,Ie=function(e){for(var i={},t=0;t<e.length;t++)i[e[t].toUpperCase()]=e[t];return i},Se=function(e,i){if(typeof e===c&&e.length>0){for(var t in e)if(qe(e[t])==qe(i))return!0;return!1}return!!Re(e)&&-1!==qe(i).indexOf(qe(e))},Ce=function(e,i){for(var t in e)return/^(browser|cpu|device|engine|os)$/.test(t)||!!i&&Ce(e[t])},Re=function(e){return typeof e===d},Te=function(e){if(e){for(var i=[],t=Ne(/\\?\"/g,e).split(","),a=0;a<t.length;a++)if(t[a].indexOf(";")>-1){var o=Ue(t[a]).split(";v=");i[a]={brand:o[0],version:o[1]}}else i[a]=Ue(t[a]);return i}},qe=function(e){return Re(e)?e.toLowerCase():e},Oe=function(e){return Re(e)?Ne(/[^\d\.]/g,e).split(".")[0]:void 0},Pe=function(e){for(var i in e){var t=e[i];typeof t==c&&2==t.length?this[t[0]]=t[1]:this[t]=void 0}return this},Ne=function(e,i){return Re(i)?i.replace(e,r):i},je=function(e){return Ne(/\\?\"/g,e)},Ue=function(e,i){if(Re(e))return e=Ne(/^\s\s*/,e),typeof i===n?e:e.substring(0,500)},Ae=function(e,i){if(e&&i)for(var t,a,o,r,n,d,u=0;u<i.length&&!n;){var l=i[u],w=i[u+1];for(t=a=0;t<l.length&&!n&&l[t];)if(n=l[t++].exec(e))for(o=0;o<w.length;o++)d=n[++a],typeof(r=w[o])===c&&r.length>0?2===r.length?typeof r[1]==s?this[r[0]]=r[1].call(this,d):this[r[0]]=r[1]:3===r.length?typeof r[1]!==s||r[1].exec&&r[1].test?this[r[0]]=d?d.replace(r[1],r[2]):void 0:this[r[0]]=d?r[1].call(this,d,r[2]):void 0:4===r.length&&(this[r[0]]=d?r[3].call(this,d.replace(r[1],r[2])):void 0):this[r]=d||void 0;u+=2}},Me=function(e,i){for(var t in i)if(typeof i[t]===c&&i[t].length>0){for(var a=0;a<i[t].length;a++)if(Se(i[t][a],e))return"?"===t?void 0:t}else if(Se(i[t],e))return"?"===t?void 0:t;return i.hasOwnProperty("*")?i["*"]:e},He={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ze={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Be={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[h,ve+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,v],[/opios[\/ ]+([\w\.]+)/i],[v,[h,he+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[h,he+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[h,he]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[h,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[h,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[h,"Smart "+Z+ye]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure"+ye],v],[/\bfocus\/([\w\.]+)/i],[v,[h,pe+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[h,he+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[h,he+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[h,"MIUI"+ye]],[/fxios\/([\w\.-]+)/i],[v,[h,ve+pe]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+ye],v],[/samsungbrowser\/([\w\.]+)/i],[v,[h,ne+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[h,fe+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,fe+" Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,v],[/(lbbrowser|rekonq)/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,ge],v,[g,O]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,v,[g,O]],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[h,"GSA"],[g,O]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[h,"TikTok"],[g,O]],[/\[(linkedin)app\]/i],[h,[g,O]],[/(chromium)[\/ ]([-\w\.]+)/i],[h,v],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[h,we+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,we+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[h,"Android"+ye]],[/chrome\/([\w\.]+) mobile/i],[v,[h,ve+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,v],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[v,[h,ve+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[h,ve+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[v,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[v,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[h,v],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[h,ve+pe],v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[h,pe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[h,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[v,/[^\d\.]+./,r]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[y,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[y,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[y,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[y,/ower/,r,qe]],[/ sun4\w[;\)]/i],[[y,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[y,qe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[_,[f,ne],[g,S]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[_,[f,ne],[g,I]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[_,[f,G],[g,I]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[_,[f,G],[g,S]],[/(macintosh);/i],[_,[f,G]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[_,[f,ce],[g,I]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[_,[f,ee],[g,S]],[/honor([-\w ]+)[;\)]/i],[_,[f,ee],[g,I]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[_,[f,Q],[g,S]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[_,[f,Q],[g,I]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[_,/_/g," "],[f,ue],[g,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[_,/_/g," "],[f,ue],[g,I]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[_,[f,se],[g,I]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[_,[f,Me,{OnePlus:["304","403","203"],"*":se}],[g,S]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[_,[f,"BLU"],[g,I]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[_,[f,"Vivo"],[g,I]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[_,[f,"Realme"],[g,I]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[_,[f,ae],[g,I]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[_,[f,ae],[g,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[_,[f,ie],[g,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch))(\w+)/i,/\blg-?([\d\w]+) bui/i],[_,[f,ie],[g,I]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[_,[f,Z],[g,S]],[/(nokia) (t[12][01])/i],[f,_,[g,S]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[_,/_/g," "],[g,I],[f,"Nokia"]],[/(pixel (c|tablet))\b/i],[_,[f,Y],[g,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[_,[f,Y],[g,I]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[_,[f,de],[g,I]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[_,"Xperia Tablet"],[f,de],[g,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[_,[f,re],[g,I]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[_,[f,J],[g,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[_,/(.+)/g,"Fire Phone $1"],[f,J],[g,I]],[/(playbook);[-\w\),; ]+(rim)/i],[_,f,[g,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[_,[f,K],[g,I]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[_,[f,X],[g,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[_,[f,X],[g,I]],[/(nexus 9)/i],[_,[f,"HTC"],[g,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[_,/_/g," "],[g,I]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[_,[f,"TCL"],[g,S]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[_,[f,"TCL"],[g,I]],[/(itel) ((\w+))/i],[[f,qe],_,[g,Me,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[_,[f,"Acer"],[g,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[_,[f,"Meizu"],[g,I]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[_,[f,"Ulefone"],[g,I]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[_,[f,"Energizer"],[g,I]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[_,[f,"Cat"],[g,I]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[_,[f,"Smartfren"],[g,I]],[/droid.+; (a(?:015|06[35]|142p?))/i],[_,[f,"Nothing"],[g,I]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[_,[f,"Archos"],[g,S]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[_,[f,"Archos"],[g,I]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[f,_,[g,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[f,_,[g,I]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[f,_,[g,S]],[/(surface duo)/i],[_,[f,te],[g,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[_,[f,"Fairphone"],[g,I]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[_,[f,oe],[g,S]],[/(sprint) (\w+)/i],[f,_,[g,I]],[/(kin\.[onetw]{3})/i],[[_,/\./g," "],[f,te],[g,I]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[_,[f,le],[g,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[_,[f,le],[g,I]],[/smart-tv.+(samsung)/i],[f,[g,C]],[/hbbtv.+maple;(\d+)/i],[[_,/^/,"SmartTV"],[f,ne],[g,C]],[/tcast.+(lg)e?. ([-\w]+)/i],[f,_,[g,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,ie],[g,C]],[/(apple) ?tv/i],[f,[_,G+" TV"],[g,C]],[/crkey.*devicetype\/chromecast/i],[[_,be+" Third Generation"],[f,Y],[g,C]],[/crkey.*devicetype\/([^/]*)/i],[[_,/^/,"Chromecast "],[f,Y],[g,C]],[/fuchsia.*crkey/i],[[_,be+" Nest Hub"],[f,Y],[g,C]],[/crkey/i],[[_,be],[f,Y],[g,C]],[/(portaltv)/i],[_,[f,ge],[g,C]],[/droid.+aft(\w+)( bui|\))/i],[_,[f,J],[g,C]],[/(shield \w+ tv)/i],[_,[f,oe],[g,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[_,[f,ce],[g,C]],[/(bravia[\w ]+)( bui|\))/i],[_,[f,de],[g,C]],[/(mi(tv|box)-?\w+) bui/i],[_,[f,ue],[g,C]],[/Hbbtv.*(technisat) (.*);/i],[f,_,[g,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Ue],[_,Ue],[g,C]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[_,[g,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,C]],[/(ouya)/i,/(nintendo) (\w+)/i],[f,_,[g,k]],[/droid.+; (shield)( bui|\))/i],[_,[f,oe],[g,k]],[/(playstation \w+)/i],[_,[f,de],[g,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[_,[f,te],[g,k]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[_,[f,ne],[g,R]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[f,_,[g,R]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[_,[f,se],[g,R]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[_,[f,G],[g,R]],[/(opwwe\d{3})/i],[_,[f,re],[g,R]],[/(moto 360)/i],[_,[f,ae],[g,R]],[/(smartwatch 3)/i],[_,[f,de],[g,R]],[/(g watch r)/i],[_,[f,ie],[g,R]],[/droid.+; (wt63?0{2,3})\)/i],[_,[f,le],[g,R]],[/droid.+; (glass) \d/i],[_,[f,Y],[g,T]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,_,[g,T]],[/(quest( \d| pro)?s?).+vr/i],[_,[f,ge],[g,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[g,q]],[/(aeobc)\b/i],[_,[f,J],[g,q]],[/(homepod).+mac os/i],[_,[f,G],[g,q]],[/windows iot/i],[[g,q]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[_,[g,Me,{mobile:"Mobile",xr:"VR","*":S}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,I]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[_,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[h,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[h,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,v],[/ladybird\//i],[[h,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[h,[v,Me,He]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Me,He],[h,xe]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,"macOS"],[v,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[v,[h,be+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[v,[h,be+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[v,[h,be+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[v,[h,be+" Linux"]],[/crkey\/([\d\.]+)/i],[v,[h,be]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,h],[/(ubuntu) ([\w\.]+) like android/i],[[h,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/\.; ]?([\d\.]*)/i],[h,v],[/\(bb(10);/i],[v,[h,K]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[h,pe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[h,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,"Chrome OS"],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,v],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,v]]},Le=(Pe.call((a={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}}).init,[[u,[h,v,x,g]],[l,[y]],[w,[g,_,f]],[m,[h,v]],[b,[h,v]]]),Pe.call(a.isIgnore,[[u,[v,x]],[m,[v]],[b,[v]]]),Pe.call(a.isIgnoreRgx,[[u,/ ?browser$/i],[b,/ ?os$/i]]),Pe.call(a.toString,[[u,[h,v]],[l,[y]],[w,[f,_]],[m,[h,v]],[b,[h,v]]]),a),Ee=function(e,i){var t=Le.init[i],a=Le.isIgnore[i]||0,o=Le.isIgnoreRgx[i]||0,s=Le.toString[i]||0;function c(){Pe.call(this,t)}return c.prototype.getItem=function(){return e},c.prototype.withClientHints=function(){return ke?ke.getHighEntropyValues(W).then((function(i){return e.setCH(new De(i,!1)).parseCH().get()})):e.parseCH().get()},c.prototype.withFeatureCheck=function(){return e.detectFeature().get()},i!=p&&(c.prototype.is=function(e){var i=!1;for(var t in this)if(this.hasOwnProperty(t)&&!Se(a,t)&&qe(o?Ne(o,this[t]):this[t])==qe(o?Ne(o,e):e)){if(i=!0,e!=n)break}else if(e==n&&i){i=!i;break}return i},c.prototype.toString=function(){var e=r;for(var i in s)typeof this[s[i]]!==n&&(e+=(e?" ":r)+this[s[i]]);return e||n}),ke||(c.prototype.then=function(e){var i=this,t=function(){for(var e in i)i.hasOwnProperty(e)&&(this[e]=i[e])};t.prototype={is:c.prototype.is,toString:c.prototype.toString};var a=new t;return e(a),a}),new c};function De(e,i){if(e=e||{},Pe.call(this,W),i)Pe.call(this,[[P,Te(e[H])],[j,Te(e[z])],[I,/\?1/.test(e[D])],[_,je(e[V])],[U,je(e[F])],[A,je(e[$])],[y,je(e[B])],[N,Te(e[E])],[M,je(e[L])]]);else for(var t in e)this.hasOwnProperty(t)&&typeof e[t]!==n&&(this[t]=e[t])}function Ve(e,i,t,a){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,i){return this.data[e]=i,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(_e&&_e.userAgent==this.ua)switch(this.itemType){case u:_e.brave&&typeof _e.brave.isBrave==s&&this.set(h,"Brave");break;case w:!this.get(g)&&ke&&ke[I]&&this.set(g,I),"Macintosh"==this.get(_)&&_e&&typeof _e.standalone!==n&&_e.maxTouchPoints&&_e.maxTouchPoints>2&&this.set(_,"iPad").set(g,S);break;case b:!this.get(h)&&ke&&ke[U]&&this.set(h,ke[U]);break;case p:var e=this.data,i=function(i){return e[i].getItem().detectFeature().get()};this.set(u,i(u)).set(l,i(l)).set(w,i(w)).set(m,i(m)).set(b,i(b))}return this},this.parseUA=function(){return this.itemType!=p&&Ae.call(this.data,this.ua,this.rgxMap),this.itemType==u&&this.set(x,Oe(this.get(v))),this},this.parseCH=function(){var e=this.uaCH,i=this.rgxMap;switch(this.itemType){case u:case m:var t,a=e[j]||e[P];if(a)for(var o in a){var r=a[o].brand||a[o],s=a[o].version;this.itemType!=u||/not.a.brand/i.test(r)||t&&(!/chrom/i.test(t)||r==me)||(r=Me(r,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"}),this.set(h,r).set(v,s).set(x,Oe(s)),t=r),this.itemType==m&&r==me&&this.set(v,s)}break;case l:var n=e[y];n&&(n&&"64"==e[M]&&(n+="64"),Ae.call(this.data,n+";",i));break;case w:if(e[I]&&this.set(g,I),e[_]&&(this.set(_,e[_]),!this.get(g)||!this.get(f))){var c={};Ae.call(c,"droid 9; "+e[_]+")",i),!this.get(g)&&c.type&&this.set(g,c.type),!this.get(f)&&c.vendor&&this.set(f,c.vendor)}if(e[N]){var d;if("string"!=typeof e[N])for(var k=0;!d&&k<e[N].length;)d=Me(e[N][k++],ze);else d=Me(e[N],ze);this.set(g,d)}break;case b:var S=e[U];if(S){var C=e[A];S==xe&&(C=parseInt(Oe(C),10)>=13?"11":"10"),this.set(h,S).set(v,C)}this.get(h)==xe&&"Xbox"==e[_]&&this.set(h,"Xbox").set(v,void 0);break;case p:var R=this.data,T=function(i){return R[i].getItem().setCH(e).parseCH().get()};this.set(u,T(u)).set(l,T(l)).set(w,T(w)).set(m,T(m)).set(b,T(b))}return this},Pe.call(this,[["itemType",e],["ua",i],["uaCH",a],["rgxMap",t],["data",Ee(this,e)]]),this}function Fe(e,i,t){if(typeof e===c?(Ce(e,!0)?(typeof i===c&&(t=i),i=e):(t=e,i=void 0),e=void 0):typeof e!==d||Ce(i,!0)||(t=i,i=void 0),t&&typeof t.append===s){var a={};t.forEach((function(e,i){a[i]=e})),t=a}if(!(this instanceof Fe))return new Fe(e,i,t).getResult();var n=typeof e===d?e:t&&t[o]?t[o]:_e&&_e.userAgent?_e.userAgent:r,h=new De(t,!0),g=i?function(e,i){var t={},a=i;if(!Ce(i))for(var o in a={},i)for(var r in i[o])a[r]=i[o][r].concat(a[r]?a[r]:[]);for(var s in e)t[s]=a[s]&&a[s].length%2==0?a[s].concat(e[s]):e[s];return t}(Be,i):Be,f=function(e){return e==p?function(){return new Ve(e,n,g,h).set("ua",n).set(u,this.getBrowser()).set(l,this.getCPU()).set(w,this.getDevice()).set(m,this.getEngine()).set(b,this.getOS()).get()}:function(){return new Ve(e,n,g[e],h).parseUA().get()}};return Pe.call(this,[["getBrowser",f(u)],["getCPU",f(l)],["getDevice",f(w)],["getEngine",f(m)],["getOS",f(b)],["getResult",f(p)],["getUA",function(){return n}],["setUA",function(e){return Re(e)&&(n=e.length>500?Ue(e,500):e),this}]]).setUA(n),this}Fe.VERSION="2.0.3",Fe.BROWSER=Ie([h,v,x,g]),Fe.CPU=Ie([y]),Fe.DEVICE=Ie([_,f,g,k,I,C,S,R,q]),Fe.ENGINE=Fe.OS=Ie([h,v]);const $e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let We;const Je=new Uint8Array(16),Ge=[];for(let e=0;e<256;++e)Ge.push((e+256).toString(16).slice(1));const Xe=function(e,i,t){if($e.randomUUID&&!i&&!e)return $e.randomUUID();const a=(e=e||{}).random??e.rng?.()??function(){if(!We){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");We=crypto.getRandomValues.bind(crypto)}return We(Je)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,i){if((t=t||0)<0||t+16>i.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let e=0;e<16;++e)i[t+e]=a[e];return i}return function(e,i=0){return(Ge[e[i+0]]+Ge[e[i+1]]+Ge[e[i+2]]+Ge[e[i+3]]+"-"+Ge[e[i+4]]+Ge[e[i+5]]+"-"+Ge[e[i+6]]+Ge[e[i+7]]+"-"+Ge[e[i+8]]+Ge[e[i+9]]+"-"+Ge[e[i+10]]+Ge[e[i+11]]+Ge[e[i+12]]+Ge[e[i+13]]+Ge[e[i+14]]+Ge[e[i+15]]).toLowerCase()}(a)};console.log("background running");const{extension:Ke}=t(838);let Ye="",Qe="";chrome.runtime.onInstalled.addListener((async function(e){if("install"===e.reason)await Ke.storage.setItem("type_login","emailPassword");else if("update"===e.reason){let e=await Ke.storage.getItem("url_bypass"),i=await Ke.storage.getItem("manual_proxies");const t=await Ke.storage.getItem("zing_proxy_api_key");if(await Ke.storage.removeItem("filter_proxy"),await Ke.storage.removeItem("device"),await Ke.storage.removeItem("manual_proxies_string"),await Ke.storage.removeItem("protocol_config"),await Ke.storage.removeItem("zing_proxy_import"),"string"==typeof t?await Ke.storage.setItem("type_login","extensionKey"):(await Ke.storage.setItem("type_login","emailPassword"),await Ke.storage.removeItem("zing_proxy_api_key")),"string"==typeof i){i=JSON.parse(i);let e=[];for(let t=0;t<i.length;t++)e=e.concat([{httpProxy:`${i[t].ip}:${i[t].portHttp}`,ip:i[t].ip,port:i[t].portHttp,username:i[t].username,password:i[t].password,uuid:Xe()}]);await Ke.storage.setItem("proxy_manual_import",JSON.stringify(e)),await Ke.storage.removeItem("manual_proxies")}"string"==typeof e&&(await Ke.storage.setItem("bypass_proxy",JSON.stringify(e)),await Ke.storage.removeItem("url_bypass"))}await Ze()})),chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch((e=>console.error(e))),chrome.action.onClicked.addListener((e=>{chrome.sidePanel.setOptions({tabId:e.id,path:"pages/side_panel.html",enabled:!0}),chrome.sidePanel.open({tabId:e.id})})),chrome.runtime.onStartup.addListener((async()=>{await Ze()})),chrome.runtime.onMessage.addListener(((e,i,t)=>ei(e,i,t))),chrome.tabs.onCreated.addListener((async e=>{e.url.startsWith("http")&&await li()})),chrome.tabs.onUpdated.addListener((async(e,i,t)=>{t?.url&&t?.url.startsWith("http")&&"complete"===t.status&&await li()}));const Ze=async()=>{const e=await Ke.proxy.get();await hi(e?.value?.rules?.singleProxy?.host);let i=await Ke.storage.getItem("proxy_connect");"string"==typeof i&&(i=JSON.parse(i),Ye=i.username,Qe=i.password)};chrome.storage.onChanged.addListener(((e,i)=>{e?.auto_close_side_panel?.newValue&&chrome.tabs.query({},(i=>{for(const t of i)if(t.id&&t.url.startsWith("http"))try{chrome.tabs.sendMessage(t.id,{action:"close_side_panel",data:{status:e.auto_close_side_panel.newValue}},(e=>{}))}catch(e){}}))}));const ei=(e,i,t)=>{switch(e.action){case"close_side_panel":return(async(e,i)=>{chrome.sidePanel.setOptions({tabId:e.tab.id,enabled:!1}),i({status:!0})})(i,t),!0;case"set_proxy":return bi(e,t),!0;case"clear_proxy":return pi(t),!0;case"using_fake_ua":return ui(e,t),!0;case"remove_fake_ua":return wi(t),!0;case"custom_fingerprint":return si(e,t),!0;case"change_latitude_longitude":return ri(e,t),!0;case"remove_change_geolocation":return oi(t),!0;case"disableWebRTC":return ni(e,t),!0;default:t({status:!0})}},ii=async e=>{let i=await Ke.storage.getItem("data_custom_inject");i="string"==typeof i?JSON.parse(i):{},e.forEach((e=>{delete i[e]})),await Ke.storage.setItem("data_custom_inject",JSON.stringify(i)),ai(i)},ti=async e=>{let i=await Ke.storage.getItem("data_custom_inject");i="string"==typeof i?JSON.parse(i):{},i={...i,...e},await Ke.storage.setItem("data_custom_inject",JSON.stringify(i)),ai(i)},ai=e=>{chrome.tabs.query({},(i=>{for(const t of i)if(t.id&&t.url.startsWith("http"))try{chrome.tabs.sendMessage(t.id,{action:"set_data_custom",data:e},(e=>{}))}catch(e){}})),Object.keys(e).length>0?chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[100],addRules:[{id:100,priority:110,action:{type:"modifyHeaders",responseHeaders:[{header:"Server-Timing",operation:"append",value:`inject_data_custom;dur=0;desc="${btoa(JSON.stringify(e))}"`}]},condition:{urlFilter:"*",resourceTypes:["main_frame","sub_frame","stylesheet","script","image","font","object","xmlhttprequest","ping","csp_report","media","websocket","webtransport","webbundle","other"]}}]}):chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[100]})},oi=async e=>{await di(),e({status:!0})},ri=async(e,i)=>{const{latitude:t,longitude:a}=e.data;await ci({latitude:t,longitude:a}),i({status:!0})},si=async(e,i)=>{const{action:t,value:a,originalDescriptor:o,canvas:r}=e.data,s=["auto","unique"].includes(t);s?await ti({custom_fingerprint:s,data_custom_fingerprint:{action:t,value:a,originalDescriptor:o,canvas:r}}):await ii(["custom_fingerprint","data_custom_fingerprint"]),i({status:!0})},ni=async(e,i)=>{const t=e.data.status;chrome.privacy.network.webRTCIPHandlingPolicy.set({value:t?"disable_non_proxied_udp":"default"}),t?await ti({disable_webRTC:!0}):await ii(["disable_webRTC"]),i({status:!0})},ci=async({latitude:e,longitude:i})=>{e&&i&&await ti({custom_geolocation:!0,data_custom_geolocation:{latitude:e,longitude:i,accuracy:(Math.floor(201*Math.random())+400)/10}})},di=async()=>{await ii(["custom_geolocation","data_custom_geolocation"])},ui=async(e,i)=>{const t=e.data.ua,a=new Fe(t),o=a.getBrowser(),r=a.getOS().name,s="Chrome"===o.name?"Google":"Safari"===o.name?"Apple":"Firefox"===o.name?"Mozilla":"Unknown";await Ke.storage.setItem("user_agent_custom",JSON.stringify({user_agent:t,vendor:s,platform:r})),await ti({custom_user_agent:!0,custom_user_agent_data:{user_agent:t,vendor:s,platform:r}}),chrome.declarativeNetRequest.updateDynamicRules({addRules:[{id:1,priority:110,action:{type:"modifyHeaders",requestHeaders:[{header:"User-Agent",operation:"set",value:e.data.ua}]},condition:{urlFilter:"*",resourceTypes:["main_frame","sub_frame","stylesheet","script","image","font","object","xmlhttprequest","ping","csp_report","media","websocket","webtransport","webbundle","other"]}}],removeRuleIds:[1]}),i({status:!0})},li=async()=>{await chrome.scripting.unregisterContentScripts(),chrome.scripting.registerContentScripts([{id:Xe(),js:["/libs/inject_custom.bundle.js"],world:"MAIN",matches:["*://*/*"],allFrames:!0,matchOriginAsFallback:!0,runAt:"document_start"}])},wi=async e=>{await ii(["custom_user_agent","custom_user_agent_data"]),chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[1]}),e({status:!0})},mi=e=>{if(e.isProxy&&""!==Ye&&""!==Qe)return{authCredentials:{username:Ye,password:Qe}}},bi=async(e,i)=>{const{value:t,scope:a,username:o,password:r}=e.data;await Ke.proxy.remove(),await Ke.proxy.set(t,a),Ye=o,Qe=r,await hi(!0),i({status:!0})};chrome.webRequest.onSendHeaders.addListener((async()=>{"string"==typeof await Ke.storage.getItem("proxy_connect")&&(chrome.webRequest.onAuthRequired.hasListener(mi,{urls:["<all_urls>"]},["blocking"])&&chrome.webRequest.onAuthRequired.removeListener(mi,{urls:["<all_urls>"]},["blocking"]),chrome.webRequest.onAuthRequired.addListener(mi,{urls:["<all_urls>"]},["blocking"]))}),{urls:["<all_urls>"]},["requestHeaders"]),chrome.webRequest.onAuthRequired.addListener((async()=>{const e=await Ke.storage.getItem("proxy_connect");if("string"==typeof e){const i=JSON.parse(e);return{authCredentials:{username:i.username,password:i.password}}}}),{urls:["<all_urls>"]},["blocking"]);const pi=async e=>{await Ke.proxy.remove(),await Ke.storage.removeItem("proxy_connect"),await hi(!1),e({status:!0})},hi=async e=>{e?(await chrome.action.setBadgeBackgroundColor({color:"#000000"}),await chrome.action.setBadgeText({text:"On"}),await chrome.action.setBadgeTextColor({color:"#ffffff"})):await chrome.action.setBadgeText({text:""})}})();